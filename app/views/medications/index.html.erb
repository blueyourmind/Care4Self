<div class="container-index">

    <div>
 <h2> Hello <%= @user.name %></h2>
    </div>

    <div>
 <img src="https://i.ibb.co/F0Csccy/pngwing-com.png" width="100" alt="Stethoscope Image">
    </div>
 <h3>Here is a list of your medications and status.</h3>



<div class ="hello-msg">


   </div>

  <!-- Filter Medications buttons -->
  <div class="filter-meds" role="group" aria-label="Filter Medications">
    <%= link_to 'All', medications_path, class: 'btn btn-secondary' %>
    <%= link_to 'Today', medications_path(filter: 'today'), class: 'btn btn-secondary' %>
    <%= link_to 'Tomorrow', medications_path(filter: 'tomorrow'), class: 'btn btn-secondary' %>
  </div>

  <!-- Your Medications title -->
  <div class="thirteen">
    <h1>Your Medications</h1>
  </div>



  <!-- Clock -->
  <div id="clockContainer">
    <div id="hour"></div>
    <div id="minute"></div>
    <div id="second"></div>
  </div>

  <!-- Include JavaScript for clock -->
  <!-- Needs to be placed seperately -->
  <script> setInterval(() => {
  d = new Date();
  hr = d.getHours();
  min = d.getMinutes();
  sec = d.getSeconds();
  hr_rotation = 30 * hr + min / 2;
  min_rotation = 6 * min;
  sec_rotation = 6 * sec;

  hour.style.transform = `rotate(${hr_rotation}deg)`;
  minute.style.transform = `rotate(${min_rotation}deg)`;
  second.style.transform = `rotate(${sec_rotation}deg)`;
}, 1000);
</script>
<!-- Add this script at the end of your HTML file, before the </body> tag -->

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const pillContainer = document.getElementById('pillContainer');
    const flipCard = document.querySelector('.flip-card');

    pillContainer.addEventListener('click', function() {
      flipCard.classList.toggle('flipped');
    });
  });
</script>




<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <!-- Medications carousel items -->
    <% @medications.each_with_index do |medication, index| %>
      <div class="carousel-item <%= 'active' if index.zero? %>">
        <div class="card mx-auto body-container flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">

              <!-- Medication name on the front of the card -->
              <h1><%= medication.name %></h1>
            </div>
            <div class="flip-card-back">
              <!-- Interaction details, quantity, med type, start date, end date on the back of the card -->
              <p><strong>Instruction:</strong> <%= medication.instruction %></p>
              <p><strong>Quantity:</strong> <%= medication.quantity %></p>
              <p><strong>Med Type:</strong> <%= medication.med_type %></p>
              <p><strong>Start Date:</strong> <%= medication.start_date %></p>
              <p><strong>End Date:</strong> <%= medication.end_date %></p>
              <p><strong>Frequency:</strong> <%= medication.frequency %></p>

              <!-- Medication actions (Edit and Delete buttons) -->
              <div class="edit-delete-buttons">
                <%= link_to 'Edit', edit_medication_path(medication), class: 'edit-button btn btn-success' %>
                <%= link_to 'Delete', medication_path(medication), data: { turbo_method: :delete, turbo_confirm: 'Are you sure you want to delete this medication?' }, class: 'delete-button btn btn-danger' %>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
  <!-- Left and Right Navigation Arrows -->
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>





  <!-- Pills design -->
<div class="pill-container" id="pillContainer">
  <div class="pill-wrapper">
    <div class="pill-left"></div>
    <div class="pill-right"></div>
  </div>
</div>

</div>

</div>
