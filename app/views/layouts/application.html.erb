<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>Care4self</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css", "data-turbo-track": "reload" %>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@200&display=swap" rel="stylesheet">
  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <link href="https://fonts.googleapis.com/css2?family=Hammersmith+One&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anton&family=Teko:wght@300&display=swap" rel="stylesheet">
<%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
  <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js", "data-turbo-track": "reload"%>
</head>

<body>

  <%= render "shared/flashes" %>

  <%= yield %>
<div id = "footer-position">
    <%= render "shared/footer" %>
    </div>
<script>



  document.addEventListener("DOMContentLoaded", function () {
    const footer = document.getElementById("footer-position");
    const footerButtons = document.querySelectorAll("#footer-position button");

    // Toggle the footer visibility on click
    document.addEventListener("click", function (event) {
      const target = event.target;
      const isVisible = footer.style.transform === "translateY(0%)";
      const isFooterButton = Array.from(footerButtons).some(button => button.contains(target));

      if (isFooterButton) {
        // If the clicked element is a button, don't hide the footer
        return;
      }

      if (isVisible) {
        footer.style.transform = "translateY(100%)";
      } else {
        footer.style.transform = "translateY(0%)";
      }
    });

    // Rest of your existing JavaScript code...
    const homeTab = document.getElementById("home-tab");
    const addTab = document.getElementById("add-tab");
    const userTab = document.getElementById("user-tab");

    homeTab.addEventListener("click", function () {
      setTimeout(function () {
        window.location.href = "<%= medications_path %>";
      }, 900);
    });

    addTab.addEventListener("click", function () {
      setTimeout(function () {
        window.location.href = "<%= new_medication_path %>";
      }, 900);
    });

    userTab.addEventListener("click", function () {
      setTimeout(function () {
        window.location.href = "<%= profile_path %>";
      }, 900);
    });

    const uls = document.querySelectorAll("ul");

    uls.forEach((ul) => {
      const resetClass = ul.parentNode.getAttribute("class");
      const lis = ul.querySelectorAll("li");

      lis.forEach((li) => {
        li.addEventListener("click", (e) => {
          e.preventDefault();
          e.stopPropagation();
          const target = e.currentTarget;

          if (
            target.classList.contains("active") ||
            target.classList.contains("follow")
          ) {
            return;
          }

          ul.parentNode.setAttribute(
            "class",
            `${resetClass} ${target.getAttribute("data-where")}-style`
          );

          lis.forEach((item) => clearClass(item, "active"));

          setClass(target, "active");
        });
      });
    });

    function clearClass(node, className) {
      node.classList.remove(className);
    }

    function setClass(node, className) {
      node.classList.add(className);
    }
  });
</script>





</body>
</html>
